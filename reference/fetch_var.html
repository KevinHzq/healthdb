<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function fetches variables from different tables that linked by common IDs. It calls dplyr::left_join() multiple times with different source tables (y argument of the join) to gather variables. It is not meant to replace left_join() but simplify syntax for the situation that you started off a table of study sample and wanted to gather covariates from different sources linked by common client IDs, which is often the case when working with healthcare databases. That said, this function is to replace repetitions of simple joins and only allows one-to-one matching."><title>Get variables from multiple tables with common ID columns — fetch_var • healthdb</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get variables from multiple tables with common ID columns — fetch_var"><meta property="og:description" content="This function fetches variables from different tables that linked by common IDs. It calls dplyr::left_join() multiple times with different source tables (y argument of the join) to gather variables. It is not meant to replace left_join() but simplify syntax for the situation that you started off a table of study sample and wanted to gather covariates from different sources linked by common client IDs, which is often the case when working with healthcare databases. That said, this function is to replace repetitions of simple joins and only allows one-to-one matching."><meta property="og:image" content="https://kevinhzq.github.io/healthdb/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">healthdb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Intro.html">Intro</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/KevinHzq/healthdb/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get variables from multiple tables with common ID columns</h1>
      <small class="dont-index">Source: <a href="https://github.com/KevinHzq/healthdb/blob/HEAD/R/fetch_var.R" class="external-link"><code>R/fetch_var.R</code></a></small>
      <div class="d-none name"><code>fetch_var.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function fetches variables from different tables that linked by common IDs. It calls <code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">dplyr::left_join()</a></code> multiple times with different source tables (y argument of the join) to gather variables. It is not meant to replace left_join() but simplify syntax for the situation that you started off a table of study sample and wanted to gather covariates from different sources linked by common client IDs, which is often the case when working with healthcare databases. That said, this function is to replace repetitions of simple joins and only allows one-to-one matching.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fetch_var</span><span class="op">(</span><span class="va">data</span>, <span class="va">keys</span>, <span class="va">linkage</span>, verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"healthdb.verbose"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A local data.frame, or tibble. It would be used as the x argument in left_join().</p></dd>


<dt>keys</dt>
<dd><p>A vector of quoted/unquoted variable names, or 'tidyselect' expression (see <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">dplyr::select()</a></code>). These variables must be present in <code>data</code> and would be used as the <code>by</code> argument in left_join(). The y tables must have a subset of these if not all.</p></dd>


<dt>linkage</dt>
<dd><p>A list of formulas in the form of "from_tab ~ get_vars|by_keys":</p><ul><li><p>source table on the left-hand-side</p></li>
<li><p>variables on the right-hand-side</p></li>
<li><p>If a source table does not have all the variables in <code>keys</code>, use "|" on RHS to specify the subset of <code>keys</code> to be used.</p></li>
</ul><p>For example, given <code>keys</code> has 3 variables,
list(
y1 ~ tidyselect_expr1,
y2 ~ tidyselect_expr2|key1 + key2)</p>
<p>meaning:</p><ol><li><p>from table y1 get variables picked by the tidyselect expression matching on all 3 keys;</p></li>
<li><p>from table y2 get variables matching on only key1 and key2.</p></li>
</ol></dd>


<dt>verbose</dt>
<dd><p>A logical for whether report the number of rows after joining for each source. Default is getting from options. Use <code>options(healthdb.verbose = FALSE)</code> to suppress once and for all.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments passing to left_join().</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data.frame or tibble containing all original columns of x and new variables matched from other tables based on the specified linkage.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># make toy data</span></span></span>
<span class="r-in"><span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fl">30</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n</span>, size <span class="op">=</span> <span class="va">size</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  service_dt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-01-01"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2022-01-31"</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    size <span class="op">=</span> <span class="va">size</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">service_dt</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n</span>, <span class="va">size</span> <span class="op">/</span> <span class="va">n</span><span class="op">)</span>, year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2020</span><span class="op">:</span><span class="fl">2022</span>, each <span class="op">=</span> <span class="va">n</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  status_1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="va">size</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  status_2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="va">size</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">n</span>, sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span><span class="op">)</span>, size <span class="op">=</span> <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simple joins</span></span></span>
<span class="r-in"><span><span class="co"># note that for left_join(df1, df2), boths keys have to be used,</span></span></span>
<span class="r-in"><span><span class="co"># otherwise, error as the relation would not be one-to-one</span></span></span>
<span class="r-in"><span><span class="fu">fetch_var</span><span class="op">(</span><span class="va">df1</span>,</span></span>
<span class="r-in"><span>  keys <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">year</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  linkage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">df2</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"s"</span><span class="op">)</span>, <span class="co"># match both keys without '|'</span></span></span>
<span class="r-in"><span>    <span class="va">df3</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">|</span> <span class="va">id</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="co"># match by id only; otherwise failed because df3 has no year</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The data has 30 rows. After joining, variable(s) from df2 has 30 rows, and variable(s) from df3 has 30 rows </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id service_dt year status_1 status_2 sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   3 2020-04-24 2020        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   6 2021-12-12 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1 2021-03-02 2021        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  10 2020-06-12 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  10 2020-02-29 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   4 2020-07-21 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   9 2020-06-09 2020        0        1   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   2 2021-07-29 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   5 2020-05-19 2020        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  3 2021-08-01 2021        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  6 2020-01-25 2020        1        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  7 2021-03-23 2021        1        0   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  2 2021-04-16 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  1 2021-04-21 2021        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  2 2020-03-13 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 10 2020-04-06 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  7 2020-12-29 2020        0        1   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  3 2022-01-24 2022        1        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  6 2021-01-13 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  5 2021-04-23 2021        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  9 2021-03-16 2021        1        1   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  8 2020-05-09 2020        0        0   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  2 2021-11-03 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24  7 2021-04-27 2021        1        0   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25  4 2020-01-18 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26  7 2021-12-21 2021        1        0   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27  5 2020-12-31 2020        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28  4 2020-03-24 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 10 2021-02-13 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30  4 2021-02-16 2021        1        0   F</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example if some y is remote</span></span></span>
<span class="r-in"><span><span class="co"># make df2 as database table</span></span></span>
<span class="r-in"><span><span class="va">db2</span> <span class="op">&lt;-</span> <span class="fu">dbplyr</span><span class="fu">::</span><span class="fu"><a href="https://dbplyr.tidyverse.org/reference/memdb_frame.html" class="external-link">tbl_memdb</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">fetch_var</span><span class="op">(</span><span class="va">df1</span>,</span></span>
<span class="r-in"><span>  keys <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">year</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  linkage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">db2</span> <span class="op">~</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"s"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="va">df3</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">|</span> <span class="va">id</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  copy <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># pass to left_join for forced collection of remote table</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The data has 30 rows. After joining, variable(s) from db2 has 30 rows, and variable(s) from df3 has 30 rows </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id service_dt year status_1 status_2 sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   3 2020-04-24 2020        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   6 2021-12-12 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1 2021-03-02 2021        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  10 2020-06-12 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  10 2020-02-29 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   4 2020-07-21 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   9 2020-06-09 2020        0        1   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   2 2021-07-29 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   5 2020-05-19 2020        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  3 2021-08-01 2021        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  6 2020-01-25 2020        1        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  7 2021-03-23 2021        1        0   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  2 2021-04-16 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  1 2021-04-21 2021        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  2 2020-03-13 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 10 2020-04-06 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  7 2020-12-29 2020        0        1   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  3 2022-01-24 2022        1        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  6 2021-01-13 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  5 2021-04-23 2021        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  9 2021-03-16 2021        1        1   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  8 2020-05-09 2020        0        0   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  2 2021-11-03 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24  7 2021-04-27 2021        1        0   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25  4 2020-01-18 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26  7 2021-12-21 2021        1        0   M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27  5 2020-12-31 2020        0        1   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28  4 2020-03-24 2020        0        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 10 2021-02-13 2021        1        0   F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30  4 2021-02-16 2021        1        0   F</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kevin Hu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

