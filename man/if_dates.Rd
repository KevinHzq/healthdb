% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/if_dates.R
\name{if_dates}
\alias{if_dates}
\title{Interpret if n dates drawn from a vector could be some days apart within some years}
\usage{
if_dates(
  x,
  n,
  apart = NULL,
  within = NULL,
  detail = FALSE,
  align = c("left", "right"),
  dup.rm = TRUE,
  ...
)
}
\arguments{
\item{x}{A character or Date vector}

\item{n}{An integer for the size of a draw}

\item{apart}{An integer specifying the minimum gap (in days) between adjacent dates in a draw.}

\item{within}{An integer specifying the maximum time span (in days) of a draw.}

\item{detail}{Logical for whether return result break down by each element, e.g., if periods of length 'within' starting/ending at each element satisfy the condition.The default is FALSE, which returns one logical summarized by any().}

\item{align}{Character, define if the time span for each record should start ("left") or end ("right") at its current date. Defaults to "left".}

\item{dup.rm}{Logical for whether duplicated dates in x should be removed before calculation. Default is TRUE.}

\item{...}{Additional argument passing to [data.table::as.IDate()] for date conversion.}
}
\value{
Single or a vector of logical for whether there is any draw from x satisfied the conditions
}
\description{
Given a vector of dates x, interpret if there could be at least one set of n elements taken from x satisfy that adjacent elements in the set are at least certain days apart AND the dates in the set are within the specified time span. When identifying events/diseases from administrative data, definitions often require, e.g., n diagnoses that are at least some days apart within some years. This function is intended for such use and optimized to avoid looping through all n-size combinations in x.
}
\examples{
dates_of_records <- sample(seq(as.Date("2015-01-01"), as.Date("2021-12-31"), 7), 10)

# whether there is any 3 records at least 30 days apart within 2 years
if_dates(dates_of_records, n = 3, apart = 30, within = 365 * 2)

# specified either apart or within or both
if_dates(dates_of_records, n = 2, within = 365)

}
\seealso{
[restrict_dates()]
}
